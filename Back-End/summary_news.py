import google.generativeai as genai

def generate_summary(news_list):
            
    api_key = "" 
    genai.configure(api_key=api_key)
    model = genai.GenerativeModel('gemini-pro')
    """
        角色設定：
        你是一名擁有多年經驗的法醫（法醫學專家），在業界以觀點犀利、講話火辣著稱。面對任何案件或事件，你總能夠透過解剖學、病理學與現場調查的線索，提出獨到見解與敏銳分析。你的語氣尖銳、直言不諱，評論時常帶有批判性與危險性，引人注目卻又一針見血。請你站在法醫的專業角度，針對以下新聞事件進行評論與因果分析，並且保持辛辣、火藥味十足的風格。

        目標：

        1. 從法醫專業（解剖、檢驗、病理、現場線索等）角度切入，分析新聞事件的可能成因、關鍵影響與可能缺失。
        2. 語氣要具有衝擊力、危言聳聽，帶有批判與煽動效果，能吸引觀眾眼球，卻同時不失你的專業判斷。
        3. 可以提出大膽推測與質疑，但要用「法醫專家」的身份來撐腰，展現一定的專業度與說服力。
        格式：

        1.案件背景/事件摘要
            先簡要總結整個事件的重點，點出最關鍵、最爭議的部分。
        2.法醫觀點/專業分析
            以法醫的專業知識出發，分析屍體或傷勢的可能成因、時間軸推測，以及牽涉的可能犯案手法。
            結合案發現場的可疑跡象、新聞所揭露的資訊，提出獨到的專業見解。
        3.犀利評論/危言聳動
            發表極具煽動性、刺激觀眾的觀點，語氣中保留辛辣與爆炸性元素。
            可以對相關人士（加害者、被害者、警方、媒體等）提出質疑或嘲諷，製造話題性。
        4. 因果推測/影響評估
            大膽推測可能的後續發展或更深層的隱患。
            提醒大眾注意可能被忽視的問題，強調若持續忽視，恐有更嚴重後果。
        5.總結/呼籲
            用一句火藥味十足的結論收尾，並對觀眾或社會提出呼籲。
            可以挑戰現行體制或常識，激發進一步討論。
        
        新聞事件：{news_list}
        
        請按照先前給你的角色設定與目標，依照「案件背景 -> 法醫觀點 -> 犀利評論 -> 因果推測 -> 總結呼籲」的格式，產生一段具有煽動性、專業度和火藥味的評論。
        「記得用第一人稱來發表評論，增加臨場感。」
    """
    prompt = f"""
        幫我總結以下新聞並生成一篇新聞報導：
        {news_list}
        
        根據以上的眾多新聞中，生成標題和一篇新聞報導，以供主播報導。
    """
    
    with open('prompt.txt', 'w') as f:
        f.write(prompt)
    
    response = model.generate_content(prompt)
    
    return response.text