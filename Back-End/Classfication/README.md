# 新聞分類系統測試指南

## 安裝依賴

```bash
pip install -r requirements.txt
```

## 使用方法

### 1. 直接執行測試
```bash
python news_classifier.py
```
這將會：
- 初始化分類器
- 顯示目前的分類統計
- 測試分類 10 篇新聞

### 2. 啟動 API 服務
```bash
python main.py
```
然後訪問 http://localhost:8000 查看 API 文檔

## API 端點

- `GET /stats` - 取得分類統計資訊
- `POST /classify` - 分類單一新聞
- `POST /classify/batch` - 批次分類新聞
- `GET /topics` - 取得所有主題
- `GET /news/{story_id}/features` - 取得新聞特徵

## 分類邏輯

系統使用多特徵融合的方式進行分類：

1. **標題相似度 (25%)**：新聞標題與主題標題的文本相似度
2. **內容相似度 (20%)**：新聞內容與主題標題的文本相似度
3. **關鍵字匹配 (35%)**：已有關鍵字與主題關鍵字的重疊度
4. **標題關鍵字匹配 (15%)**：從標題提取的關鍵字與主題關鍵字的重疊度
5. **專有名詞匹配 (5%)**：專有名詞與主題關鍵字的重疊度

## 參數調整

- `confidence_threshold`：信心度閾值，預設 0.3
- `limit`：批次處理時的新聞數量限制
- `topK`：關鍵字提取數量

## 注意事項

- 系統會自動跳過已經分類過的新聞
- 只有信心度超過閾值的分類結果會儲存到資料庫
- 使用 TF-IDF 和 jieba 進行中文文本處理
