<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¨¡æ…‹è¦–çª—æ¸¬è©¦</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
        }
        
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #f9f9f9;
        }
        
        .test-button {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s ease;
        }
        
        .test-button:hover {
            background: #2980b9;
        }
        
        .test-button:active {
            transform: translateY(1px);
        }
        
        .node-info {
            background: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
        
        .node-info h3 {
            margin: 0 0 10px 0;
            color: #2c3e50;
        }
        
        .node-info p {
            margin: 5px 0;
            color: #555;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>æ¨¡æ…‹è¦–çª—åŠŸèƒ½æ¸¬è©¦</h1>
        
        <div class="test-section">
            <h2>æ¸¬è©¦ç¯€é»è©³æƒ…é¡¯ç¤º</h2>
            <p>é»æ“Šä»¥ä¸‹æŒ‰éˆ•æ¸¬è©¦ä¸åŒé¡å‹çš„ç¯€é»è©³æƒ…é¡¯ç¤ºï¼š</p>
            
            <button class="test-button" onclick="testCenterNode()">æ¸¬è©¦ä¸­å¿ƒç¯€é»</button>
            <button class="test-button" onclick="testWhoNode()">æ¸¬è©¦ WHO ç¯€é»</button>
            <button class="test-button" onclick="testWhatNode()">æ¸¬è©¦ WHAT ç¯€é»</button>
            <button class="test-button" onclick="testWhenNode()">æ¸¬è©¦ WHEN ç¯€é»</button>
        </div>
        
        <div class="test-section">
            <h2>æ¸¬è©¦è³‡æ–™çµæ§‹</h2>
            <div class="node-info">
                <h3>ä¸­å¿ƒç¯€é»</h3>
                <p><strong>æ¨™ç±¤:</strong> å¤§ç½·å…äº‹ä»¶æ¦‚è¿°</p>
                <p><strong>æè¿°:</strong> 2025å¹´å°ç£ç™¼ç”Ÿäº†é‡å°å¤šä½åœ‹æ°‘é»¨ç«‹å§”çš„ç½·å…æ¡ˆï¼Œä»¥åŠæ ¸ä¸‰é‡å•Ÿå…¬æŠ•...</p>
            </div>
            
            <div class="node-info">
                <h3>WHO ç¯€é»</h3>
                <p><strong>æ¨™ç±¤:</strong> ç›¸é—œäººç‰©</p>
                <p><strong>æè¿°:</strong> åŒ…æ‹¬è¢«ç½·å…çš„åœ‹æ°‘é»¨ç«‹å§”ã€ç™¼èµ·ç½·å…çš„å…¬æ°‘åœ˜é«”ç­‰...</p>
                <p><strong>è©³ç´°ç¯€é»:</strong> æ±Ÿå•Ÿè‡£ã€æœ±ç«‹å€«ã€è³´æ¸…å¾·ã€æŸ¯æ–‡å“²ã€ç›§ç§€ç‡•</p>
            </div>
        </div>
        
        <div class="test-section">
            <h2>é™¤éŒ¯è³‡è¨Š</h2>
            <p>é–‹å•Ÿç€è¦½å™¨é–‹ç™¼è€…å·¥å…·æŸ¥çœ‹æ§åˆ¶å°è¼¸å‡º</p>
            <button class="test-button" onclick="clearConsole()">æ¸…é™¤æ§åˆ¶å°</button>
        </div>
    </div>

    <script>
        // æ¨¡æ“¬ FiveW1HVisualization çš„ç¯€é»è©³æƒ…é¡¯ç¤ºåŠŸèƒ½
        function showNodeDetail(node) {
            try {
                console.log('ğŸ” é–‹å§‹é¡¯ç¤ºç¯€é»è©³æƒ…:', node);
                
                // ç§»é™¤ç¾æœ‰çš„è©³æƒ…è¦–çª—
                const existingModal = document.getElementById('node-detail-modal');
                if (existingModal) {
                    existingModal.remove();
                }
                
                // å‰µå»ºè©³æƒ…è¦–çª—
                const modal = document.createElement('div');
                modal.id = 'node-detail-modal';
                modal.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.5);
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    z-index: 10000;
                    cursor: pointer;
                `;
                
                // å‰µå»ºè¦–çª—å…§å®¹
                const modalContent = document.createElement('div');
                modalContent.style.cssText = `
                    background: white;
                    border-radius: 15px;
                    padding: 25px;
                    max-width: 600px;
                    width: 90%;
                    max-height: 80vh;
                    overflow-y: auto;
                    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
                    cursor: default;
                    position: relative;
                `;
                
                // é—œé–‰æŒ‰éˆ•
                const closeBtn = document.createElement('button');
                closeBtn.innerHTML = 'Ã—';
                closeBtn.style.cssText = `
                    position: absolute;
                    top: 15px;
                    right: 20px;
                    background: none;
                    border: none;
                    font-size: 24px;
                    cursor: pointer;
                    color: #666;
                    width: 30px;
                    height: 30px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border-radius: 50%;
                    transition: background 0.3s ease;
                `;
                
                closeBtn.onmouseover = () => {
                    closeBtn.style.background = '#f0f0f0';
                };
                
                closeBtn.onmouseout = () => {
                    closeBtn.style.background = 'none';
                };
                
                closeBtn.onclick = () => {
                    modal.remove();
                };
                
                // ç¯€é»æ¨™é¡Œ
                const title = document.createElement('h2');
                title.textContent = node.label;
                title.style.cssText = `
                    margin: 0 0 15px 0;
                    color: #2c3e50;
                    font-size: 1.5em;
                    font-weight: bold;
                    text-align: center;
                `;
                
                // ç¯€é»é¡å‹æ¨™ç±¤
                const typeLabel = document.createElement('div');
                typeLabel.textContent = getNodeTypeLabel(node.type);
                typeLabel.style.cssText = `
                    display: inline-block;
                    background: ${getNodeTypeColor(node.type)};
                    color: white;
                    padding: 5px 12px;
                    border-radius: 20px;
                    font-size: 12px;
                    font-weight: bold;
                    margin-bottom: 20px;
                    text-align: center;
                `;
                
                // ç¯€é»æè¿°
                const description = document.createElement('p');
                description.textContent = node.description;
                description.style.cssText = `
                    margin: 15px 0;
                    color: #555;
                    line-height: 1.6;
                    font-size: 14px;
                `;
                
                // çµ„è£è¦–çª—å…§å®¹
                modalContent.appendChild(closeBtn);
                modalContent.appendChild(title);
                modalContent.appendChild(typeLabel);
                modalContent.appendChild(description);
                
                // å°‡å…§å®¹æ·»åŠ åˆ°æ¨¡æ…‹è¦–çª—
                modal.appendChild(modalContent);
                
                // é»æ“ŠèƒŒæ™¯é—œé–‰è¦–çª—
                modal.onclick = (e) => {
                    if (e.target === modal) {
                        modal.remove();
                    }
                };
                
                // æ·»åŠ åˆ°é é¢
                document.body.appendChild(modal);
                
                console.log('âœ… ç¯€é»è©³æƒ…è¦–çª—å‰µå»ºæˆåŠŸ');
            } catch (error) {
                console.error('âŒ å‰µå»ºç¯€é»è©³æƒ…è¦–çª—å¤±æ•—:', error);
                alert(`é¡¯ç¤ºç¯€é»è©³æƒ…å¤±æ•—: ${node.label || 'æœªçŸ¥ç¯€é»'}`);
            }
        }
        
        function getNodeTypeLabel(type) {
            const labels = {
                'center': 'æ ¸å¿ƒè­°é¡Œ',
                '5w1h': '5W1Hè¦ç´ ',
                'detail': 'è©³ç´°è³‡è¨Š'
            };
            return labels[type] || 'æœªçŸ¥é¡å‹';
        }
        
        function getNodeTypeColor(type) {
            const colors = {
                'center': '#e74c3c',
                '5w1h': '#3498db',
                'detail': '#95a5a6'
            };
            return colors[type] || '#95a5a6';
        }
        
        // æ¸¬è©¦å‡½æ•¸
        function testCenterNode() {
            const node = {
                id: 'center',
                label: 'å¤§ç½·å…äº‹ä»¶æ¦‚è¿°',
                type: 'center',
                description: '2025å¹´å°ç£ç™¼ç”Ÿäº†é‡å°å¤šä½åœ‹æ°‘é»¨ç«‹å§”çš„ç½·å…æ¡ˆï¼Œä»¥åŠæ ¸ä¸‰é‡å•Ÿå…¬æŠ•ã€‚ç½·å…æ¡ˆç”±å…¬æ°‘åœ˜é«”ç™¼èµ·ï¼Œæ°‘é€²é»¨æ”¯æŒï¼Œä½†æœ€çµ‚å‡æœªé€šéã€‚äº‹ä»¶åæ˜ å°ç£æ”¿æ²»é€²å…¥æœé‡å‹¢å‡åŠ›æ•µçš„æ–°å±€é¢ï¼Œä¸¦å¼•ç™¼å…§é–£æ”¹çµ„åŠæ”¿é»¨å…§éƒ¨çš„æª¢è¨ã€‚'
            };
            showNodeDetail(node);
        }
        
        function testWhoNode() {
            const node = {
                id: 'who',
                label: 'ç›¸é—œäººç‰©',
                type: '5w1h',
                category: 'who',
                description: 'åŒ…æ‹¬è¢«ç½·å…çš„åœ‹æ°‘é»¨ç«‹å§”ã€ç™¼èµ·ç½·å…çš„å…¬æ°‘åœ˜é«”ã€æ°‘é€²é»¨åŠåœ‹æ°‘é»¨çš„æ”¿æ²»äººç‰©ï¼Œä»¥åŠå—å…¬æŠ•å½±éŸ¿çš„æ°‘çœ¾ã€‚'
            };
            showNodeDetail(node);
        }
        
        function testWhatNode() {
            const node = {
                id: 'what',
                label: 'äº‹ä»¶æœ¬è³ª',
                type: '5w1h',
                category: 'what',
                description: 'ä¸»è¦åŒ…å«é‡å°åœ‹æ°‘é»¨ç«‹å§”çš„ç½·å…æŠ•ç¥¨åŠæ ¸ä¸‰é‡å•Ÿå…¬æŠ•ï¼Œæ˜¯æª¢é©—æ°‘æ„å’Œæ”¿æ²»åŠ›é‡å°æ¯”çš„äº‹ä»¶ã€‚'
            };
            showNodeDetail(node);
        }
        
        function testWhenNode() {
            const node = {
                id: 'when',
                label: 'ç™¼ç”Ÿæ™‚é–“',
                type: '5w1h',
                category: 'when',
                description: 'ä¸»è¦ç™¼ç”Ÿåœ¨2025å¹´8æœˆï¼ŒåŒ…æ‹¬ç½·å…æŠ•ç¥¨æ—¥åŠå‰å¾Œçš„æ”¿æ²»æ´»å‹•ï¼Œä»¥åŠå…¬æŠ•çš„èˆ‰è¡Œæ™‚é–“ã€‚'
            };
            showNodeDetail(node);
        }
        
        function clearConsole() {
            console.clear();
            console.log('ğŸ§¹ æ§åˆ¶å°å·²æ¸…é™¤');
        }
        
        // é é¢è¼‰å…¥å®Œæˆå¾Œçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            console.log('âœ… æ¨¡æ…‹è¦–çª—æ¸¬è©¦é é¢è¼‰å…¥å®Œæˆ');
            console.log('ğŸ”§ é»æ“Šæ¸¬è©¦æŒ‰éˆ•ä¾†æ¸¬è©¦æ¨¡æ…‹è¦–çª—åŠŸèƒ½');
        });
    </script>
</body>
</html>
